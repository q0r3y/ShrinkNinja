function copyLink(){let e=document.getElementById("link").innerText;e.length<=12&&(e="https://"+e),navigator.clipboard.writeText(e);const o=document.getElementById("copy");o.style.filter="invert(100%)";const t=o.cloneNode(!0);o.parentNode.replaceChild(t,o),t.classList.add("a")}function transferToGithub(){window.location.href="https://github.com/q0r3y/ShrinkNinja"}function getRandomNumber(e){return Math.floor(Math.random()*e)}function getRandomColor(){return"hsl("+getRandomNumber(360)+"deg,"+getRandomNumber(100)+"%,"+getRandomNumber(100)+"%)"}function setColors(){const e=getRandomColor();var o;window.randomColor=e,function(e){const o=document.getElementById("background");o.style.backgroundColor=e,o.style.color=e}(e),o=e,document.getElementById("copy").style.color=o,function(e){const o=document.getElementsByClassName("svg");for(i=0;i<o.length;i++)o[i].style.fill=e}(e),window.qrCode&&window.qrCode.set({foreground:e})}async function requestCode(){const e=document.getElementById("link"),o=document.getElementById("copy"),t=document.getElementById("instructions"),n=document.getElementById("qrcode");let l=window.location.href.slice(window.location.origin.length+1);if(l){l=(r=l).match(/^[A-Za-z]+:\/\//)?r:"https://"+r;const d=JSON.stringify({longUrl:l});(await fetch("/api",{method:"POST",body:d,headers:{Accept:"application/json","Content-Type":"application/json"}})).json().then((l=>{var r;l.errors?t.style.display="block":(t.style.display="none",o.style.display="block",e.innerText=l.longUrl||l.shortUrl,e.style.display="block",r=l.shortUrl,window.qrCode=new QRious({element:document.getElementById("qrcode"),backgroundAlpha:0,foreground:window.randomColor,size:300,value:"https://"+r}),n.style.display="block")}))}else t.style.display="block";var r}
